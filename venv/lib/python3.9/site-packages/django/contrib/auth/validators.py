import re

from django.core import validators
from django.utils.deconstruct import deconstructible
from django.utils.translation import gettext_lazy as _


@deconstructible
class ASCIIUsernameValidator(validators.RegexValidator):
    regex = r'^[\w.@+-]+\Z'
    message = _(
        'Enter a valid username. This value may contain only English letters, '
        'numbers, and @/./+/-/_ characters.'
    )
    flags = re.ASCII


@deconstructible
class UnicodeUsernameValidator(validators.RegexValidator):
    regex = r'^[\w.@+-]+\Z'
    message = _(
        'Enter a valid username. This value may contain only letters, '
        'numbers, and @/./+/-/_ characters.'
    )
    flags = 0


LANGS = [
    'ÁáČčĎďÉéĚěÍíŇňÓóŘřŠšŤťÚúŮůÝýŽž',   # Czech
    ]

@deconstructible
class MujValidator(validators.RegexValidator):
    regex = r'[A-Za-z{langs}\DA-Za-z{langs}]'.format(langs=''.join(LANGS))
    message = _(
       'Přihlaste se pomocí atletova jména a příjmení, '
       'některá jména mohou mít na konci uvedena identifikační číslo.'
       'Příklad: Jan Novák nebo Jan Novák3'
    )